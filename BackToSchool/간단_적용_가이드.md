# ğŸ¯ Unity ëŒ€í™” ì‹œìŠ¤í…œ - ê°„ë‹¨ ì ìš© ê°€ì´ë“œ

## âš¡ 3ë‹¨ê³„ë¡œ ëë‚´ê¸°

### 1ë‹¨ê³„: UI ë§Œë“¤ê¸° (5ë¶„)

#### ëŒ€í™” ë§í’ì„ 
1. Canvas ìƒì„± (Hierarchy ìš°í´ë¦­ â†’ UI â†’ Canvas)
2. Panel ìƒì„± â†’ ì´ë¦„: **"DialogueBubble"**
3. DialogueBubble ìì‹ìœ¼ë¡œ:
   - TextMeshProUGUI â†’ ì´ë¦„: **"NameText"** (ì´ë¦„)
   - TextMeshProUGUI â†’ ì´ë¦„: **"DialogueText"** (ëŒ€ì‚¬)
4. DialogueBubble **ë¹„í™œì„±í™”** (ì²´í¬ í•´ì œ)

#### ì„ íƒì§€ íŒ¨ë„
1. Panel ìƒì„± â†’ ì´ë¦„: **"ChoicePanel"**
2. ChoicePanel ìì‹ìœ¼ë¡œ:
   - Button 4ê°œ â†’ ì´ë¦„: **"ChoiceButton1~4"**
   - ê° ë²„íŠ¼ì— TextMeshProUGUI ì¶”ê°€
   - Image ì¶”ê°€ â†’ ì´ë¦„: **"ChoiceArrow"** (í™”ì‚´í‘œ)
3. ChoicePanel **ë¹„í™œì„±í™”** (ì²´í¬ í•´ì œ)

---

### 2ë‹¨ê³„: DialogueManager ì„¤ì • (2ë¶„)

1. **ë¹ˆ GameObject ìƒì„±** â†’ ì´ë¦„: **"DialogueManager"**
2. **ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:**
   - DialogueManager
   - Audio Source

3. **Inspectorì—ì„œ ì—°ê²°:**
   ```
   Speech Bubble Object â†’ DialogueBubble
   Name Text â†’ NameText
   Dialogue Text â†’ DialogueText
   Choice Panel â†’ ChoicePanel
   Choice Buttons â†’ ChoiceButton1~4 (ë°°ì—´ í¬ê¸° 4)
   Choice Texts â†’ ê° ë²„íŠ¼ì˜ TextMeshProUGUI (ë°°ì—´ í¬ê¸° 4)
   Choice Arrow â†’ ChoiceArrow
   Audio Source â†’ ê°™ì€ ì˜¤ë¸Œì íŠ¸ì˜ AudioSource
   Player Controller â†’ Playerì˜ PlayerController
   ```

---

### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸ NPC ë§Œë“¤ê¸° (3ë¶„)

1. **NPC ë§Œë“¤ê¸°:**
   - 2D Sprite ìƒì„± â†’ ì´ë¦„: **"TestNPC"**

2. **ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:**
   ```
   CharacterIdentifier
   - Character ID: "TEST_NPC"
   
   Box Collider 2D
   - Is Trigger: âœ… ì²´í¬
   
   DialogueTrigger
   - Default Conversation ID: "TEST_CONVO"
   - Contextual Dialogues í¬ê¸°: 1
     - Day: 1
     - Specific State: Lunch_FreeTime
     - Behavior: Repeatable
     - Conversation ID: "TEST_CONVO"
   ```

3. **CSVì— ëŒ€í™” ì¶”ê°€:**

   **Localization.csv:**
   ```csv
   ID,KOR,ENG
   NAME_PLAYER,ë¡œë´‡,Robot
   NAME_TEST_NPC,í…ŒìŠ¤íŠ¸NPC,TestNPC
   LINE_TEST_01,ì•ˆë…•! ë§Œë‚˜ì„œ ë°˜ê°€ì›Œ,Hello! Nice to meet you
   LINE_TEST_02,ë­í•˜ê³  ìˆì—ˆì–´?,What were you doing?
   ```

   **Conversations.csv:**
   ```csv
   Conversation_ID,Order,Speaker_ID,Line_ID
   TEST_CONVO,1,NAME_TEST_NPC,LINE_TEST_01
   TEST_CONVO,2,NAME_PLAYER,LINE_TEST_02
   ```

4. **Play ë²„íŠ¼ ëˆ„ë¥´ê³  í…ŒìŠ¤íŠ¸!** âœ…

---

## ğŸ“ ëŒ€í™” ì‘ì„± ë°©ë²•

### ê¸°ë³¸ ëŒ€í™” (CSVë¡œ ì‘ì„±)

**Localization.csv:**
```csv
ID,KOR,ENG
NAME_PLAYER,ë¡œë´‡,Robot
NAME_NPC,ì¹œêµ¬,Friend
LINE_GREETING,ì•ˆë…•!,Hello!
LINE_RESPONSE,ì•ˆë…•í•˜ì„¸ìš”!,Hi!
```

**Conversations.csv:**
```csv
Conversation_ID,Order,Speaker_ID,Line_ID
GREETING_CONVO,1,NAME_NPC,LINE_GREETING
GREETING_CONVO,2,NAME_PLAYER,LINE_RESPONSE
```

### ì„ íƒì§€ ì¶”ê°€ (ì½”ë“œë¡œ ì„¤ì •)

**âš ï¸ CSVë§Œìœ¼ë¡œëŠ” ì„ íƒì§€ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!**

**í•´ê²° ë°©ë²•:** ëŒ€í™” ì‹œì‘ ì „ì— ì½”ë“œì—ì„œ ì„¤ì •

```csharp
// ì˜ˆ: DialogueTriggerì—ì„œ
void Start()
{
    // ëŒ€í™” ì‹œì‘ ì „ì— ì„ íƒì§€ ì¶”ê°€
    List<DialogueLine> lines = LocalizationManager.Instance.GetConversation("CHOICE_CONVO");
    if (lines.Count > 0)
    {
        DialogueLine lastLine = lines[lines.Count - 1];
        lastLine.hasChoices = true;
        
        lastLine.choices.Add(new DialogueChoice
        {
            choiceTextID = "LINE_CHOICE_1",
            nextConversationID = "RESPONSE_1"
        });
        
        lastLine.choices.Add(new DialogueChoice
        {
            choiceTextID = "LINE_CHOICE_2",
            nextConversationID = "RESPONSE_2"
        });
    }
}
```

### ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€

```csharp
List<DialogueLine> lines = LocalizationManager.Instance.GetConversation("TALK_CONVO");
if (lines.Count > 0)
{
    lines[0].animationTrigger = "Talk"; // Animatorì˜ íŠ¸ë¦¬ê±° ì´ë¦„
}
```

### í…ìŠ¤íŠ¸ ì´í™íŠ¸ ì¶”ê°€

```csharp
List<DialogueLine> lines = LocalizationManager.Instance.GetConversation("SHAKE_CONVO");
if (lines.Count > 0)
{
    lines[0].textEffect = TextEffectType.Shake;
    lines[0].effectIntensity = 0.7f;
}
```

---

## ğŸ® ì‚¬ìš© ë°©ë²•

### ììœ¨ì  ëŒ€í™” (NPCì™€ ëŒ€í™”)
1. Playerë¥¼ NPCì—ê²Œ ì´ë™
2. Eí‚¤ ëˆ„ë¥´ê¸°
3. ëŒ€í™” ì‹œì‘!

### ìŠ¤í† ë¦¬ ëŒ€í™” (ìë™ ëŒ€í™”)
- GameManagerì˜ ChangeState()ì—ì„œ ìë™ ì‹œì‘
- í”Œë ˆì´ì–´ëŠ” Eí‚¤ë¡œ ë„˜ê¸°ê¸°ë§Œ ê°€ëŠ¥

---

## ğŸ”§ LocalizationManager ì„¤ì •

1. **ë¹ˆ GameObject ìƒì„±** â†’ ì´ë¦„: **"LocalizationManager"**
2. **ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:** LocalizationManager
3. **ë!** (CSVëŠ” ìë™ìœ¼ë¡œ ë¡œë“œë¨)

---

## ğŸ“± í° UI ì„¤ì • (ì–¸ì–´ ì „í™˜)

1. **í° íŒ¨ë„ ë§Œë“¤ê¸°:**
   ```
   Canvas
   â””â”€â”€ PhonePanel
       â””â”€â”€ LanguageButton (Button)
           â””â”€â”€ LanguageButtonText (TextMeshProUGUI)
   ```

2. **PhoneManager ì„¤ì •:**
   ```
   ë¹ˆ GameObject â†’ ì´ë¦„: "PhoneManager"
   ì»´í¬ë„ŒíŠ¸ ì¶”ê°€: PhoneManager
   Inspectorì—ì„œ:
   - Phone UI Panel â†’ PhonePanel
   - Language Toggle Button â†’ LanguageButton
   - Language Button Text â†’ LanguageButtonText
   ```

3. **Tab í‚¤ë¡œ í° ì—´ê¸°**
4. **ì–¸ì–´ ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ì–¸ì–´ ì „í™˜**

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ëŒ€í™”ê°€ ì•ˆ ë‚˜ì™€ìš”
- DialogueManagerì˜ UI ìš”ì†Œë“¤ì´ ëª¨ë‘ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸
- CSV íŒŒì¼ì´ Resources í´ë”ì— ìˆëŠ”ì§€ í™•ì¸
- Conversation IDê°€ ì •í™•í•œì§€ í™•ì¸
- Console ì—ëŸ¬ í™•ì¸

### ì„ íƒì§€ê°€ ì•ˆ ë³´ì—¬ìš”
- ChoicePanelì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- ChoiceButtons ë°°ì—´ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
- DialogueLineì˜ hasChoicesê°€ trueì¸ì§€ í™•ì¸

---

## ğŸ’¡ íŒ

1. **ID ëª…ëª… ê·œì¹™:** `CONVERSATION_DAY1_NPC_LUNCH`
2. **ëŒ€ì‚¬ ì‘ì„±:** ì§§ê³  ëª…í™•í•˜ê²Œ
3. **ì„ íƒì§€:** ìµœëŒ€ 4ê°œ, ëª…í™•í•œ ì„ íƒì§€ í…ìŠ¤íŠ¸
4. **ì• ë‹ˆë©”ì´ì…˜:** Animator Controllerì— íŠ¸ë¦¬ê±° ì„¤ì • í•„ìš”
5. **ì†Œë¦¬ ì´í™íŠ¸:** Resources/Sounds í´ë”ì— ì˜¤ë””ì˜¤ íŒŒì¼ ì¶”ê°€

---

ì´ì œ ì‹¤ì œë¡œ Unityì—ì„œ ì„¤ì •í•´ë³´ì„¸ìš”! ğŸ‰




